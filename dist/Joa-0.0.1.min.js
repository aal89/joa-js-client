var JOA=function(){"use strict";function e(e){y.url=e}function t(e){y.header=e}function n(e){var t="",n=Object.keys(p.attribute);if(null!==y.header.gatewayIdentifier&&y.header.gatewayIdentifier.length>0){t+=h,t+=y.header.gatewayIdentifier;for(var r=0;r<n.length;r++){var u=n[r],i=y.header.attribute[u];null!==i&&i.length>0&&(t+="time"==u?",time":","+u+"="+i)}t+=c.eol,t.indexOf("vendor=")!==-1?e(null,t):e("no_vendor_attribute_set",null)}else e("no_gatewayidentifier_set",null)}function r(){for(var e=[],t=0;t<m.length;t++){var n="",r=m[t],u=Object.keys(r);n+=r.id+c.tab;for(var i=0;i<u.length;i++)n+=r[u[t]]+c.tab;n+=chat.eol,e.push(n)}return e}function u(e,t,n,r,u,i,l,a){var d={id:o(),messageType:g.ZCLReport,eui64:e,endpointId:t||"0x0a",profileId:n||"0xf100",clusterId:r,attributeId:u,dataTypeId:i,timestamp:l,value:a};return m.push(d),d}function i(){m=[]}function l(e){for(var t=0;t<m.length;t++)if(m[t].id===e){var n=m[t];return m.splice(t,1),n}return{}}function o(){return v++,v}function a(e){n(function(t,n){t?e(t,null):e(null,n+r())})}function d(e){a(function(t,n){t?e(t,null):(i(),e(null,n))})}function f(){a(function(e,t){return e?e:t})}var s=null,c={tab:"\t",eol:"\n"},p={attribute:{vendor:null,hash:null,secret:null,time:null},gatewayIdentifier:null},h="MuniRPCv2:",v=0,g={ZCLReport:0,ZCLMultiReport:1,ZCLCommand:2,TAZFrame:3,TimeIndication:"t"},m=[],y=function(e){return y.url=e,this};return y.url=s,y.header=p,y.prototype.constructor=y,y.headers=t,y.setUrl=e,y.addZCLReport=u,y.clearMessages=i,y.removeMessage=l,y.post=d,y.toString=f,y.debug="",y}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=JOA),exports.JOA=JOA):this.JOA=JOA;